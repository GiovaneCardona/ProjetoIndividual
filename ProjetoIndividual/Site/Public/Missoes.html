<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stylemissao.css">

</head>

<body>
    <div class="header">
        <a href="index.html">
            <div class="Logo">
                <img style=" margin: 0; height: 100%;" class="imagem_raquete"
                    src="./Assets/images-removebg-preview (8).png" alt="">
                <h1 style="color: white;">PongPalace</h1>
            </div>
        </a>
    </div>
    <div id="exibir"></div>
    <div class="barraLateral">
        <div class="oláUser">
            <p id="nome_user"></p>
        </div>


        <div class="botões-lateral">
            
            <a href="metricas.html">
                <p style="margin: 15px;">Métricas/Ranking</p>
            </a>
            
        </div>

        <div class="botaoSair">
            <div class="img-sair">
                <a href="index.html"> <img style="height: 30px; width: 30px;" src="./Assets/images-removebg-preview (10).png"
                        alt=""></a>
            </div>
            <a href="index.html">
                <p>Sair</p>
            </a>

        </div>


    </div>

    <div class="cardsMissao">


        <button id="Missao1" class="botoesMissao">
            <p>MISSÃO 1:</p>
            <p>Jogar Tênis de mesa por <span class="destaque">30 minutos</span> na vida real<br><Br>
                <span class="destaque">Vale 1000 Pontos!</span>
            </p>
        </button>

        <button id="Missao2" class="botoesMissao">
            <p>MISSÃO 2:</p>
            <p>Repetir o movimento de <span class="destaque">Saque 50x!</span><Br><br>
                <span class="destaque">Vale 1000 Pontos!</span>
            </p>
        </button>

        <button id="Missao3" class="botoesMissao">
            <p>MISSÃO 3:</p>
            <p>Repetir o movimento de <span class="destaque">Corte 50x!</span><Br><br>
                <span class="destaque">Vale 1000 Pontos!</span>
            </p>
        </button>


    </div>


    <div class="cardsMissao2">


        <button id="Missao4" class="botoesMissao">
            <p>MISSÃO 4:</p>
            <p>Repetir o movimento de recepção de saque <span class="destaque">no mínimo 50x!</span></p>
            <p><span class=" destaque">Vale 1000 Pontos!</span></p>
        </button>

        <button id="Missao5" class="botoesMissao">
            <p>MISSÃO 5:</p>
            <p>Repetir o movimento de recepção de corte <span class="destaque">no mínimo 50x!</span></p>
            <p><span class="destaque">Vale 1000 Pontos!</span></p>
        </button>


        <button id="Missao6" class="botoesMissao">
            <p>MISSÃO 6:</p>
            <p>Ganhar <span class="destaque">três partidas</span> seguidas do seu parceiro de treino no tênis de mesa!
            </p>
            <p><span class="destaque">Vale 1000 pontos!</span></p>
        </button>


    </div>

    <dialog id="missao1pop" class="mission">
        <!-- <div class="PopUp"> -->

        <h1>Missão 1</h1>

        <p>Vale 1000 pontos!</p>

        <p>Nesta missão você precisará praticar no mínimo 30 minutos do esporte Tênis de mesa<Br><br>
            O objetivo desta missão, é incentivar a prática de esportes, diminuindo o sedentarismo!!</p><br>

        <button onclick="ConcluirMissao()" class="botaoDialog">Concluir missão!</button> Aperte Esc para fechar!

        <!-- </div> -->
    </dialog>

    <dialog id="missao2pop" class="mission">
        <!-- <div class="PopUp"> -->

        <h1>Missão 2</h1>

        <p>Vale 1000 pontos!</p>

        <p>Nesta missão você precisará repetir no mínimo 50 vezes o movimento de SAQUE!<Br><br>
            O objetivo desta missão é melhorar a sua memória muscular e servir como um cardio, diminuindo o
            sedentarismo!!</p><br>

        <button onclick="ConcluirMissao2()" class="botaoDialog">Concluir missão!</button> Aperte Esc para fechar!

        <!-- </div> -->
    </dialog>

    <dialog id="missao3pop" class="mission">
        <!-- <div class="PopUp"> -->

        <h1>Missão 3</h1>

        <p>Vale 1000 pontos!</p>

        <p>Nesta missão você precisará repetir no mínimo 50x o movimento de Corte!<Br><br>
            O objetivo desta missão é incentivar a prática de esportes diminuindo o sedentarismo!</p><br>

        <button onclick="ConcluirMissao3()" class="botaoDialog">Concluir missão!</button> Aperte Esc para fechar!

        <!-- </div> -->
    </dialog>

    <dialog id="missao4pop" class="mission">
        <!-- <div class="PopUp"> -->

        <h1>Missão 4</h1>

        <p>Vale 1000 pontos!</p>

        <p>Nesta missão você precisará praticar no mínimo 50x o movimento de recepção de Saque!<Br><br>
            O objetivo desta missão é incentivar a prática de esportes diminuindo o sedentarismo!</p><br>

        <button onclick="ConcluirMissao4()" class="botaoDialog">Concluir missão!</button> Aperte Esc para fechar!

        <!-- </div> -->
    </dialog>

    <dialog id="missao5pop" class="mission">
        <!-- <div class="PopUp"> -->

        <h1>Missão 5</h1>

        <p>Vale 1000 pontos!</p>

        <p>Nesta missão você precisará praticar no mínimo 50x o Movimento de recepção de Corte!<Br><br>
            O objetivo desta missão, é incentivar a prática de esportes, diminuindo o sedentarismo!!</p><br>

        <button onclick="ConcluirMissao5()" class="botaoDialog">Concluir missão!</button> Aperte Esc para fechar!

        <!-- </div> -->
    </dialog>

    <dialog id="missao6pop" class="mission">
        <!-- <div class="PopUp"> -->

        <h1>Missão 6</h1>

        <p>Vale 1000 pontos!</p>

        <p>Nesta missão você precisará ganhar três partidas de tênis de mesa do seu parceiro de treino!<Br><br>
            O objetivo desta missão, é incentivar a prática de esportes, diminuindo o sedentarismo!!</p><br>

        <button onclick="ConcluirMissao6()" class="botaoDialog">Concluir missão!</button> Aperte Esc para fechar!

        <!-- </div> -->
    </dialog>



</body>

</html>

<script>


    function ConcluirMissao() {

        fetch('/missoes/Concluir', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                idUsuarioServer: sessionStorage.ID_USUARIO,
                idMissao: 1,
            }),
        })
            .then(response => {
                if (!response.ok) {
                    // Se o status não for OK (200), exibe o alert
                    alert('Você ja Concluiu esta missão!');
                }
                return response.json(); // Continua o processamento normal se o status for OK
            })
            .then(data => {
                // Continua o processamento com os dados recebidos, se houver
                console.log(data);
            })
            .catch(error => {
                // Trata erros que podem ocorrer durante a requisição
                console.error('Erro durante a requisição:', error);
                alert('Erro durante a requisição. Verifique o console para mais detalhes.');
            });
    }


    function ConcluirMissao2() {

fetch('/missoes/Concluir', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        idUsuarioServer: sessionStorage.ID_USUARIO,
        idMissao: 2,
    }),
})
    .then(response => {
        if (!response.ok) {
           
            alert('Você ja Concluiu esta missão!');
        }
        return response.json(); 
    })
    .then(data => {
        
        console.log(data);
    })
    .catch(error => {
        
        console.error('Erro durante a requisição:', error);
        alert('Erro durante a requisição. Verifique o console para mais detalhes.');
    });
}
function ConcluirMissao3() {

fetch('/missoes/Concluir', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        idUsuarioServer: sessionStorage.ID_USUARIO,
        idMissao: 3,
    }),
})
    .then(response => {
        if (!response.ok) {
           
            alert('Você ja Concluiu esta missão!');
        }
        return response.json(); 
    })
    .then(data => {
        
        console.log(data);
    })
    .catch(error => {
        
        console.error('Erro durante a requisição:', error);
        alert('Erro durante a requisição. Verifique o console para mais detalhes.');
    });
}
function ConcluirMissao4() {

fetch('/missoes/Concluir', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        idUsuarioServer: sessionStorage.ID_USUARIO,
        idMissao: 4,
    }),
})
    .then(response => {
        if (!response.ok) {
           
            alert('Você ja Concluiu esta missão!');
        }
        return response.json(); 
    })
    .then(data => {
        
        console.log(data);
    })
    .catch(error => {
        
        console.error('Erro durante a requisição:', error);
        alert('Erro durante a requisição. Verifique o console para mais detalhes.');
    });
}
function ConcluirMissao5() {

fetch('/missoes/Concluir', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        idUsuarioServer: sessionStorage.ID_USUARIO,
        idMissao: 5,
    }),
})
    .then(response => {
        if (!response.ok) {
            
            alert('Você ja Concluiu esta missão!');
        }
        return response.json(); 
    })
    .then(data => {
        
        console.log(data);
    })
    .catch(error => {
        
        console.error('Erro durante a requisição:', error);
        alert('Erro durante a requisição. Verifique o console para mais detalhes.');
    });
}
function ConcluirMissao6() {

fetch('/missoes/Concluir', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
    },
    body: JSON.stringify({
        idUsuarioServer: sessionStorage.ID_USUARIO,
        idMissao: 6,
    }),
})
    .then(response => {
        if (!response.ok) {
            alert('Você ja Concluiu esta missão!');
        }
        return response.json(); 
    })
    .then(data => {
        console.log(data);
    })
    .catch(error => {
        console.error('Erro durante a requisição:', error);
        alert('Erro durante a requisição. Verifique o console para mais detalhes.');
    });
}

    const card1 = document.getElementById("Missao1");
    const card2 = document.getElementById("Missao2");
    const card3 = document.getElementById("Missao3");
    const card4 = document.getElementById("Missao4");
    const card5 = document.getElementById("Missao5");
    const card6 = document.getElementById("Missao6");

    const modal = document.getElementById("missao1pop");
    const modal2 = document.getElementById("missao2pop");
    const modal3 = document.getElementById("missao3pop");
    const modal4 = document.getElementById("missao4pop");
    const modal5 = document.getElementById("missao5pop");
    const modal6 = document.getElementById("missao6pop");

    card1.onclick = function () {
        modal.showModal()
    }
    card2.onclick = function () {
        modal2.showModal()
    }
    card3.onclick = function () {
        modal3.showModal()
    }
    card4.onclick = function () {
        modal4.showModal()
    }
    card5.onclick = function () {
        modal5.showModal()
    }
    card6.onclick = function () {
        modal6.showModal()
    }

    document.getElementById("nome_user").innerHTML = "Olá " + sessionStorage.NOME_USUARIO + "!"






</script>